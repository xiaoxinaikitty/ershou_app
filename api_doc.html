<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>二手交易平台API文档</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .api-section {
            margin-bottom: 40px;
        }
        .api-item {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        pre {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 3px;
            overflow-x: auto;
        }
        h1 {
            color: #333;
        }
        h2 {
            color: #666;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        h3 {
            color: #333;
        }
    </style>
</head>
<body>
    <h1>二手交易平台API文档</h1>

    <!-- 用户模块 -->
    <div class="api-section">
        <h2>用户模块</h2>

        <div class="api-item">
            <h3>用户注册</h3>
            <p>请求路径：/user/register</p>
            <p>请求方法：POST</p>
            <p>请求数据示例：</p>
            <pre>
{
    "username": "张三",
    "phone": "13800138000",
    "password": "password123",
    "email": "zhangsan@example.com"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": "注册成功",
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>用户登录</h3>
            <p>请求路径：/user/login</p>
            <p>请求方法：POST</p>
            <p>请求数据示例：</p>
            <pre>
{
    "username": "张三",
    "password": "password123"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": "eyJhbGciOiJIUzI1NiJ9...",
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>管理员登录</h3>
            <p>请求路径：/user/admin</p>
            <p>请求方法：POST</p>
            <p>请求数据示例：</p>
            <pre>
{
    "username": "admin",
    "password": "admin123"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "token": "eyJhbGciOiJIUzI1NiJ9...",
        "message": "管理员登录成功"
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>添加用户地址</h3>
            <p>请求路径：/user/address</p>
            <p>请求方法：POST</p>
            <p>请求数据示例：</p>
            <pre>
{
    "name": "张三",
    "phone": "13800138000",
    "province": "北京市",
    "city": "北京市",
    "district": "海淀区",
    "detailAddress": "中关村南大街5号",
    "isDefault": true
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": "地址添加成功",
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>获取用户信息</h3>
            <p>请求路径：/user/info</p>
            <p>请求方法：GET</p>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "userId": 1,
        "username": "张三",
        "phone": "13800138000",
        "email": "zhangsan@example.com",
        "avatar": "avatar.jpg",
        "role": "普通用户"
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>修改用户信息</h3>
            <p>请求路径：/user/info</p>
            <p>请求方法：PUT</p>
            <p>请求数据示例：</p>
            <pre>
{
    "username": "张三",
    "phone": "13800138000",
    "email": "zhangsan_new@example.com",
    "avatar": "new_avatar.jpg"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "userId": 1,
        "username": "张三",
        "phone": "13800138000",
        "email": "zhangsan@example.com",
        "avatar": "new_avatar.jpg"
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>修改用户密码</h3>
            <p>请求路径：/user/password</p>
            <p>请求方法：PUT</p>
            <p>请求数据示例：</p>
            <pre>
{
    "oldPassword": "password123",
    "newPassword": "newPassword456"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": "密码修改成功",
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>获取用户角色信息</h3>
            <p>请求路径：/user/role</p>
            <p>请求方法：GET</p>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "roleId": 1,
        "roleName": "普通用户",
        "permissions": ["添加商品", "收藏商品", "举报商品"]
    },
    "message": "success"
}
            </pre>
        </div>
    </div>

    <!-- 商品模块 -->
    <div class="api-section">
        <h2>商品模块</h2>

        <div class="api-item">
            <h3>添加商品</h3>
            <p>请求路径：/product/add</p>
            <p>请求方法：POST</p>
            <p>请求数据示例：</p>
            <pre>
{
    "title": "iPhone 12",
    "description": "95新iPhone12",
    "price": 3999.00,
    "originalPrice": 5999.00,
    "categoryId": 1,
    "conditionLevel": 9,
    "status": 1,
    "location": "北京市"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "productId": 1,
        "title": "iPhone 12",
        "description": "95新iPhone12",
        "price": 3999.00,
        "originalPrice": 5999.00,
        "categoryId": 1,
        "conditionLevel": 9,
        "status": 1,
        "location": "北京市"
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>上传商品图片</h3>
            <p>请求路径：/product/image/upload</p>
            <p>请求方法：POST</p>
            <p>请求类型：multipart/form-data</p>
            <p>请求参数：</p>
            <pre>
productId: 1 (商品ID，必填)
isMain: 1 (是否为主图，0-否，1-是，可选，默认0)
sortOrder: 0 (图片排序，可选，默认0)
imageFile: [文件] (图片文件，必填，支持jpg、jpeg、png、gif格式)
            </pre>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "imageId": 1,
        "productId": 1,
        "imageUrl": "http://localhost:8080/images/2e45f7a1-b8c2-4d3a-9e1c-7b164aa95f23.jpg",
        "isMain": 1,
        "sortOrder": 0
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>获取商品详情</h3>
            <p>请求路径：/product/detail/{productId}</p>
            <p>请求方法：GET</p>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "productId": 1,
        "title": "iPhone 12",
        "description": "95新iPhone12",
        "price": 3999.00,
        "originalPrice": 5999.00,
        "categoryId": 1,
        "conditionLevel": 9,
        "status": 1,
        "location": "北京市",
        "viewCount": 100,
        "createdTime": "2025-04-14 10:00:00"
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>更新商品信息</h3>
            <p>请求路径：/product/update</p>
            <p>请求方法：PUT</p>
            <p>请求数据示例：</p>
            <pre>
{
    "productId": 1,
    "title": "iPhone 12 Pro",
    "price": 4999.00,
    "status": 1,
    "description": "95新iPhone12 Pro，国行正品"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "productId": 1,
        "title": "iPhone 12 Pro",
        "price": 4999.00,
        "status": 1
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>通过URL添加商品图片</h3>
            <p>请求路径：/product/image/add-by-url</p>
            <p>请求方法：POST</p>
            <p>请求类型：application/json</p>
            <p>请求数据示例：</p>
            <pre>
{
    "productId": 1,
    "imageUrl": "https://example.com/images/product1.jpg",
    "isMain": 1,
    "sortOrder": 0
}
            </pre>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "imageId": 1,
        "productId": 1,
        "imageUrl": "https://example.com/images/product1.jpg",
        "isMain": 1,
        "sortOrder": 0
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>批量添加商品图片</h3>
            <p>请求路径：/product/image/add</p>
            <p>请求方法：POST</p>
            <p>请求类型：application/json</p>
            <p>请求数据示例：</p>
            <pre>
{
    "productId": 1,
    "isMain": 1,
    "sortOrder": 0,
    "imageUrls": [
        "https://example.com/images/product1.jpg",
        "https://example.com/images/product2.jpg",
        "https://example.com/images/product3.jpg"
    ]
}
            </pre>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": [
        {
            "imageId": 1,
            "productId": 1,
            "imageUrl": "https://example.com/images/product1.jpg",
            "isMain": 1,
            "sortOrder": 0,
            "createdTime": "2025-04-14 10:30:00"
        },
        {
            "imageId": 2,
            "productId": 1,
            "imageUrl": "https://example.com/images/product2.jpg",
            "isMain": 0,
            "sortOrder": 1,
            "createdTime": "2025-04-14 10:30:00"
        },
        {
            "imageId": 3,
            "productId": 1,
            "imageUrl": "https://example.com/images/product3.jpg",
            "isMain": 0,
            "sortOrder": 2,
            "createdTime": "2025-04-14 10:30:00"
        }
    ],
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>删除商品图片</h3>
            <p>请求路径：/product/image/{productId}/{imageId}</p>
            <p>请求方法：DELETE</p>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": "图片删除成功",
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>获取商品图片列表</h3>
            <p>请求路径：/product/image/list/{productId}</p>
            <p>请求方法：GET</p>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": [
        {
            "imageId": 1,
            "productId": 1,
            "imageUrl": "http://localhost:8080/images/2e45f7a1-b8c2-4d3a-9e1c-7b164aa95f23.jpg",
            "isMain": 1,
            "sortOrder": 0,
            "createdTime": "2025-04-14 10:00:00"
        },
        {
            "imageId": 2,
            "productId": 1,
            "imageUrl": "http://localhost:8080/images/3f56e8b2-c9d3-4e2b-8f2d-9a275bb86f34.jpg",
            "isMain": 0,
            "sortOrder": 1,
            "createdTime": "2025-04-14 10:00:00"
        }
    ],
    "message": "success"
}
            </pre>
        </div>
    </div>

    <!-- 商品举报模块 -->
    <div class="api-section">
        <h2>商品举报模块</h2>

        <div class="api-item">
            <h3>举报商品</h3>
            <p>请求路径：/product/report/add</p>
            <p>请求方法：POST</p>
            <p>请求数据示例：</p>
            <pre>
{
    "productId": 1,
    "userId": 1,
    "reportType": 1,
    "reportContent": "商品涉嫌虚假宣传"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "reportId": 1,
        "productId": 1,
        "reportType": 1,
        "reportContent": "商品涉嫌虚假宣传",
        "status": 0,
        "createdTime": "2025-04-14 10:00:00"
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>获取商品举报列表</h3>
            <p>请求路径：/product/report/list/{productId}</p>
            <p>请求方法：GET</p>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": [
        {
            "reportId": 1,
            "productId": 1,
            "reportType": 1,
            "reportContent": "商品涉嫌虚假宣传",
            "status": 0,
            "createdTime": "2025-04-14 10:00:00"
        }
    ],
    "message": "success"
}
            </pre>
        </div>
    </div>

    <!-- 商品交易方式模块 -->
    <div class="api-section">
        <h2>商品交易方式模块</h2>

        <div class="api-item">
            <h3>添加交易方式</h3>
            <p>请求路径：/product/trade/method/add</p>
            <p>请求方法：POST</p>
            <p>请求数据示例：</p>
            <pre>
{
    "methodName": "上门回收",
    "methodDesc": "由回收人员上门进行商品回收交易"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "methodId": 1,
        "methodName": "上门回收",
        "methodDesc": "由回收人员上门进行商品回收交易"
    },
    "message": "success"
}
            </pre>
        </div>
    </div>

     <!-- 订单模块 -->
     <div class="api-section">
        <h2>订单模块</h2>

        <div class="api-item">
            <h3>创建订单</h3>
            <p>请求路径：/order/create</p>
            <p>请求方法：POST</p>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>请求数据示例：</p>
            <pre>
{
    "productId": 3,
    "sellerId": 2,
    "paymentType": 1,
    "deliveryType": 2,
    "orderAmount": 3999.00,
    "paymentAmount": 3999.00,
    "deliveryFee": 15.00,
    "remark": "希望尽快发货",
    "address": {
        "receiverName": "张三",
        "receiverPhone": "13800138000",
        "province": "北京市",
        "city": "北京市",
        "district": "海淀区",
        "detailAddress": "中关村大街1号"
    }
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "orderId": 1,
        "orderNo": "202504141528120123456",
        "userId": 1,
        "sellerId": 2,
        "productId": 3,
        "productTitle": "iPhone 12",
        "orderAmount": 3999.00,
        "paymentAmount": 3999.00,
        "orderStatus": 0,
        "paymentType": 1,
        "deliveryType": 2,
        "deliveryFee": 15.00,
        "remark": "希望尽快发货",
        "createdTime": "2025-04-14 15:28:12",
        "address": {
            "receiverName": "张三",
            "receiverPhone": "13800138000",
            "province": "北京市",
            "city": "北京市",
            "district": "海淀区",
            "detailAddress": "中关村大街1号"
        }
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>获取订单列表</h3>
            <p>请求路径：/order/list</p>
            <p>请求方法：GET</p>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": [
        {
            "orderId": 1,
            "orderNo": "202504141528120123456",
            "userId": 1,
            "sellerId": 2,
            "productId": 3,
            "productTitle": "iPhone 12",
            "orderAmount": 3999.00,
            "paymentAmount": 3999.00,
            "orderStatus": 0,
            "paymentType": 1,
            "deliveryType": 2,
            "deliveryFee": 15.00,
            "remark": "希望尽快发货",
            "createdTime": "2025-04-14 15:28:12",
            "address": {
                "receiverName": "张三",
                "receiverPhone": "13800138000",
                "province": "北京市",
                "city": "北京市",
                "district": "海淀区",
                "detailAddress": "中关村大街1号"
            }
        }
    ],
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>取消订单</h3>
            <p>请求路径：/order/cancel</p>
            <p>请求方法：PUT</p>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>请求数据示例：</p>
            <pre>
{
    "orderId": 1,
    "remark": "商品不符合预期，申请取消"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "orderId": 1,
        "orderNo": "202504141528120123456",
        "userId": 1,
        "sellerId": 2,
        "productId": 3,
        "productTitle": "iPhone 12",
        "orderAmount": 3999.00,
        "paymentAmount": 3999.00,
        "orderStatus": 4,
        "paymentType": 1,
        "deliveryType": 2,
        "deliveryFee": 15.00,
        "remark": "希望尽快发货",
        "createdTime": "2025-04-14 15:28:12",
        "address": {
            "receiverName": "张三",
            "receiverPhone": "13800138000",
            "province": "北京市",
            "city": "北京市",
            "district": "海淀区",
            "detailAddress": "中关村大街1号"
        }
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>支付订单</h3>
            <p>请求路径：/order/pay</p>
            <p>请求方法：PUT</p>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>请求数据示例：</p>
            <pre>
{
    "orderId": 1,
    "userId": 1,
    "paymentType": 1,
    "paymentChannel": 2,
    "transactionNo": "wx202504141528120123456"
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "orderId": 1,
        "orderNo": "202504141528120123456",
        "userId": 1,
        "sellerId": 2,
        "productId": 3,
        "productTitle": "iPhone 12",
        "orderAmount": 3999.00,
        "paymentAmount": 3999.00,
        "orderStatus": 1,
        "paymentType": 1,
        "paymentChannel": 2,
        "transactionNo": "wx202504141528120123456",
        "paymentTime": "2025-04-14 15:28:12",
        "deliveryType": 2,
        "deliveryFee": 15.00,
        "remark": "希望尽快发货",
        "createdTime": "2025-04-14 15:28:12",
        "address": {
            "receiverName": "张三",
            "receiverPhone": "13800138000",
            "province": "北京市",
            "city": "北京市",
            "district": "海淀区",
            "detailAddress": "中关村大街1号"
        }
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>通知收货（发货）</h3>
            <p>请求路径：/order/notify-shipment</p>
            <p>请求方法：PUT</p>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>请求数据示例：</p>
            <pre>
{
    "orderId": 1,
    "sellerId": 2
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "orderId": 1,
        "orderNo": "202504141528120123456",
        "userId": 1,
        "sellerId": 2,
        "productId": 3,
        "productTitle": "iPhone 12",
        "orderAmount": 3999.00,
        "paymentAmount": 3999.00,
        "orderStatus": 2,
        "paymentType": 1,
        "paymentTime": "2025-04-14 15:28:12",
        "deliveryType": 2,
        "deliveryFee": 15.00,
        "deliveryTime": "2025-04-15 09:30:45",
        "remark": "希望尽快发货",
        "createdTime": "2025-04-14 15:28:12",
        "address": {
            "receiverName": "张三",
            "receiverPhone": "13800138000",
            "province": "北京市",
            "city": "北京市",
            "district": "海淀区",
            "detailAddress": "中关村大街1号"
        }
    },
    "message": "success"
}
            </pre>
        </div>

        <div class="api-item">
            <h3>确认收货</h3>
            <p>请求路径：/order/confirm-receipt</p>
            <p>请求方法：PUT</p>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>请求数据示例：</p>
            <pre>
{
    "orderId": 1,
    "userId": 1
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "orderId": 1,
        "orderNo": "202504141528120123456",
        "userId": 1,
        "sellerId": 2,
        "productId": 3,
        "productTitle": "iPhone 12",
        "orderAmount": 3999.00,
        "paymentAmount": 3999.00,
        "orderStatus": 3,
        "paymentType": 1,
        "paymentTime": "2025-04-14 15:28:12",
        "deliveryType": 2,
        "deliveryFee": 15.00,
        "receivedTime": "2025-04-16 10:30:22",
        "remark": "希望尽快发货",
        "createdTime": "2025-04-14 15:28:12",
        "address": {
            "receiverName": "张三",
            "receiverPhone": "13800138000",
            "province": "北京市",
            "city": "北京市",
            "district": "海淀区",
            "detailAddress": "中关村大街1号"
        }
    },
    "message": "success"
}
            </pre>
        </div>
        
        <div class="api-item">
            <h3>订单评价</h3>
            <p>请求路径：/order/review/add</p>
            <p>请求方法：POST</p>
            <p>请求头：</p>
            <pre>
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...
            </pre>
            <p>请求数据示例：</p>
            <pre>
{
    "orderId": 1,
    "productId": 3,
    "userId": 1,
    "sellerId": 2,
    "content": "商品质量很好，物流速度快，卖家服务态度很好",
    "rating": 5,
    "isAnonymous": 0
}
            </pre>
            <p>响应示例：</p>
            <pre>
{
    "code": 0,
    "data": {
        "reviewId": 1,
        "orderId": 1,
        "productId": 3,
        "productTitle": "iPhone 12",
        "userId": 1,
        "username": "张三",
        "sellerId": 2,
        "sellerName": "李四",
        "content": "商品质量很好，物流速度快，卖家服务态度很好",
        "rating": 5,
        "isAnonymous": 0,
        "hasReply": 0,
        "createdTime": "2025-04-16 15:30:22"
    },
    "message": "success"
}
            </pre>
        </div>
        
    </div>

</body>
</html>